{% extends "base.html" %}

{% block title %}Редактиране на читател - {{ reader.full_name }}{% endblock %}

{% block content %}
<h1><i class="bi bi-pencil-square"></i> Редактиране на читател</h1>
<hr>

<form action="{{ url_for('readers.edit_reader_page', reader_no=reader.reader_no) }}" method="post" class="edit-form">
    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="reader_no" class="form-label">Читателски номер</label>
            <input type="text" class="form-control" id="reader_no" name="reader_no" value="{{ reader.reader_no }}" readonly disabled>
        </div>
        <div class="col-md-8 mb-3">
            <label for="full_name" class="form-label">Трите имена</label>
            <input type="text" class="form-control" id="full_name" name="full_name" value="{{ reader.full_name }}" required>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 mb-3">
             <label for="city" class="form-label">Населено място</label>
             <input type="text" class="form-control" id="city" name="city" value="{{ reader.city or '' }}">
        </div>
        <div class="col-md-6 mb-3">
            <label for="address" class="form-label">Адрес</label>
            <input type="text" class="form-control" id="address" name="address" value="{{ reader.address or '' }}">
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="phone" class="form-label">Телефон</label>
            <input type="tel" class="form-control" id="phone" name="phone" value="{{ reader.phone or '' }}">
        </div>
        <div class="col-md-6 mb-3">
            <label for="email" class="form-label">Имейл</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ reader.email or '' }}">
        </div>
    </div>
     <div class="row">
        <div class="col-md-6 mb-3">
            <label for="profession_select" class="form-label">Професия (избери съществуваща)</label>
            <select class="form-select" id="profession_select" name="profession_select">
                <option value="">-- Избери --</option>
                {% for p in professions %}
                <option value="{{ p.name }}" {% if p.name == reader.profession %}selected{% endif %}>{{ p.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6 mb-3">
             <label for="new_profession" class="form-label">или добави нова професия</label>
            <input type="text" class="form-control" id="new_profession" name="new_profession">
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="education_select" class="form-label">Образование (избери съществуващо)</label>
            <select class="form-select" id="education_select" name="education_select">
                <option value="">-- Избери --</option>
                {% for e in educations %}
                <option value="{{ e.name }}" {% if e.name == reader.education %}selected{% endif %}>{{ e.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6 mb-3">
             <label for="new_education" class="form-label">или добави ново образование</label>
            <input type="text" class="form-control" id="new_education" name="new_education">
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label class="form-label">Пол</label>
            <div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="gender_male" value="Мъж" {% if reader.gender == 'Мъж' %}checked{% endif %}>
                    <label class="form-check-label" for="gender_male">Мъж</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="gender" id="gender_female" value="Жена" {% if reader.gender == 'Жена' %}checked{% endif %}>
                    <label class="form-check-label" for="gender_female">Жена</label>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-3 d-flex align-items-center">
             <div class="form-check">
                <input class="form-check-input" type="checkbox" id="is_under_14" name="is_under_14" value="1" {% if reader.is_under_14 %}checked{% endif %}>
                <label class="form-check-label" for="is_under_14">
                    Читател под 14 г.
                </label>
            </div>
        </div>
    </div>

    <hr>
    <a href="{{ url_for('readers.readers_list_page') }}" class="btn btn-secondary">Отказ</a>
    <button type="submit" class="btn btn-primary">Запази промените</button>
</form>

{% endblock %}