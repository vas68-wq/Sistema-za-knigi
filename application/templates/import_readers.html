{% extends "base.html" %}

{% block title %}Импортиране на читатели{% endblock %}

{% block content %}
<a href="{{ url_for('readers.readers_list_page') }}" class="btn btn-outline-secondary mb-3"><i class="bi bi-arrow-left"></i> Обратно към списъка с читатели</a>

<h1><i class="bi bi-upload"></i> Импортиране на читатели от CSV файл</h1>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">Инструкции</h5>
        <p>Моля, качете CSV файл, който съдържа следните 11 колони в този ред:</p>
        <code>reader_no, full_name, city, address, phone, email, profession, education, gender, registration_date, is_under_14</code>
        <ul>
            <li>Първият ред на файла трябва да бъде заглавен (header row) и ще бъде пропуснат при импорта.</li>
            <li>Колоната <strong>reader_no</strong> е задължителна. Ако читател със същия номер вече съществува, редът ще бъде пропуснат.</li>
            <li>За колоната <strong>is_under_14</strong>, използвайте стойности като 'Да', 'Yes', 'True' или '1' за "Да", и всичко останало за "Не".</li>
            <li>Кодировката на файла трябва да е UTF-8 или Windows-1251.</li>
        </ul>
        <hr>
        <form action="{{ url_for('readers.import_readers_page') }}" method="post" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="csv_file" class="form-label">Изберете CSV файл</label>
                <input class="form-control" type="file" id="csv_file" name="csv_file" accept=".csv" required>
            </div>
            <button type="submit" class="btn btn-primary">Импортирай</button>
        </form>
    </div>
</div>
{% endblock %}